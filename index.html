<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>100 Days of Intern Event</title>
    <style>
        :root {
            --correct-color: #6aaa64;
            --present-color: #c9b458;
            --absent-color: #787c7e;
            --border-color: #d3d6da;
            --background-color: #ffffff;
            --text-color: #1a1a1b;
            --keyboard-bg: #d3d6da;
            --primary-color: #4361ee;
        }

        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: var(--background-color);
            color: var(--text-color);
            min-height: 100vh;
        }

        header {
            text-align: center;
            padding: 1rem;
            width: 100%;
            background-color: var(--primary-color);
            color: white;
        }

        main {
            width: 100%;
            max-width: 500px;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 1rem;
        }

        .departments {
            display: flex;
            justify-content: space-around;
            width: 100%;
            margin-bottom: 1rem;
        }

        .department {
            background-color: #f0f0f0;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            font-weight: bold;
        }

        .grid-container {
            display: grid;
            grid-template-rows: repeat(6, 1fr);
            grid-gap: 5px;
            margin-bottom: 1rem;
        }

        .grid-row {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            grid-gap: 5px;
        }

        .grid-cell {
            width: 50px;
            height: 50px;
            border: 2px solid var(--border-color);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2rem;
            font-weight: bold;
            text-transform: uppercase;
        }

        .keyboard {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
        }

        .keyboard-row {
            display: flex;
            justify-content: center;
            margin: 2px 0;
            width: 100%;
        }

        .key {
            min-width: 30px;
            height: 58px;
            margin: 0 2px;
            border-radius: 4px;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: var(--keyboard-bg);
            font-weight: bold;
            cursor: pointer;
            user-select: none;
            text-transform: uppercase;
            flex: 1;
        }

        .key-enter, .key-backspace {
            min-width: 65px;
        }

        .correct {
            background-color: var(--correct-color);
            color: white;
            border-color: var(--correct-color);
        }

        .present {
            background-color: var(--present-color);
            color: white;
            border-color: var(--present-color);
        }

        .absent {
            background-color: var(--absent-color);
            color: white;
            border-color: var(--absent-color);
        }

        .flip {
            animation: flip 0.5s ease forwards;
        }

        @keyframes flip {
            0% {
                transform: rotateX(0);
            }
            50% {
                transform: rotateX(90deg);
            }
            100% {
                transform: rotateX(0);
            }
        }

        .shake {
            animation: shake 0.5s;
        }

        @keyframes shake {
            10%, 90% { transform: translateX(-1px); }
            20%, 80% { transform: translateX(2px); }
            30%, 50%, 70% { transform: translateX(-4px); }
            40%, 60% { transform: translateX(4px); }
        }

        .bounce {
            animation: bounce 0.5s;
        }

        @keyframes bounce {
            0%, 20% { transform: translateY(0); }
            40% { transform: translateY(-30px); }
            50% { transform: translateY(5px); }
            60% { transform: translateY(-15px); }
            80% { transform: translateY(2px); }
            100% { transform: translateY(0); }
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 10px;
            text-align: center;
            max-width: 80%;
        }

        .modal-content h2 {
            margin-top: 0;
            color: var(--primary-color);
        }

        .button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 1rem 2rem;
            font-size: 1rem;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 1rem;
            font-weight: bold;
        }

        .button:hover {
            background-color: #2c4ccc;
        }

        .hidden-link {
            margin-top: 2rem;
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #f00;
            border-radius: 50%;
        }
    </style>
</head>
<body>
    <header>
        <h1>100 Days of Intern Event</h1>
    </header>

    <main>
        <div class="departments">
            <div class="department">Storage</div>
            <div class="department">Grid Automation</div>
        </div>

        <h2>Solve the puzzle to find the event location</h2>
        <p>Guess the 7-letter word (hint: where we work)</p>

        <div class="grid-container" id="grid">
            <!-- Grid will be populated by JavaScript -->
        </div>

        <div class="keyboard">
            <div class="keyboard-row">
                <div class="key" data-key="q">q</div>
                <div class="key" data-key="w">w</div>
                <div class="key" data-key="e">e</div>
                <div class="key" data-key="r">r</div>
                <div class="key" data-key="t">t</div>
                <div class="key" data-key="y">y</div>
                <div class="key" data-key="u">u</div>
                <div class="key" data-key="i">i</div>
                <div class="key" data-key="o">o</div>
                <div class="key" data-key="p">p</div>
            </div>
            <div class="keyboard-row">
                <div class="key" data-key="a">a</div>
                <div class="key" data-key="s">s</div>
                <div class="key" data-key="d">d</div>
                <div class="key" data-key="f">f</div>
                <div class="key" data-key="g">g</div>
                <div class="key" data-key="h">h</div>
                <div class="key" data-key="j">j</div>
                <div class="key" data-key="k">k</div>
                <div class="key" data-key="l">l</div>
            </div>
            <div class="keyboard-row">
                <div class="key key-enter" data-key="Enter">enter</div>
                <div class="key" data-key="z">z</div>
                <div class="key" data-key="x">x</div>
                <div class="key" data-key="c">c</div>
                <div class="key" data-key="v">v</div>
                <div class="key" data-key="b">b</div>
                <div class="key" data-key="n">n</div>
                <div class="key" data-key="m">m</div>
                <div class="key key-backspace" data-key="Backspace">âŒ«</div>
            </div>
        </div>

        <div class="hidden-link">
            <button class="button" id="rsvp-button">Click here to RSVP</button>
        </div>
    </main>

    <div class="modal" id="success-modal">
        <div class="modal-content">
            <h2>Congratulations! ðŸŽ‰</h2>
            <p>You are in the right location, just know the date and time now:</p>
            <p><strong>Location:</strong> ONE QUBE</p>
            <p><strong>Date:</strong> May 15, 2025</p>
            <p><strong>Time:</strong> 2:00 PM</p>
            <button class="button" onclick="closeModal()">Close</button>
        </div>
    </div>

    <div class="modal" id="failure-modal">
        <div class="modal-content">
            <h2>Can't figure out your own office? ðŸ¤”</h2>
            <p>Here's the information you need:</p>
            <p><strong>Location:</strong> ONE QUBE</p>
            <p><strong>Date:</strong> May 15, 2025</p>
            <p><strong>Time:</strong> 2:00 PM</p>
            <button class="button" onclick="closeModal()">Close</button>
        </div>
    </div>

    <script>
        // Game configuration
        const WORD = "ONEQUBE";
        const MAX_GUESSES = 6;
        let currentRow = 0;
        let currentCol = 0;
        let gameOver = false;
        let remainingAttempts = MAX_GUESSES;

        // Initialize the grid
        function initializeGrid() {
            const gridContainer = document.getElementById("grid");
            gridContainer.innerHTML = "";
            
            for (let i = 0; i < MAX_GUESSES; i++) {
                const row = document.createElement("div");
                row.classList.add("grid-row");
                
                for (let j = 0; j < WORD.length; j++) {
                    const cell = document.createElement("div");
                    cell.classList.add("grid-cell");
                    cell.setAttribute("data-row", i);
                    cell.setAttribute("data-col", j);
                    row.appendChild(cell);
                }
                
                gridContainer.appendChild(row);
            }
        }

        // Get the current row cells
        function getCurrentRowCells() {
            return document.querySelectorAll(`.grid-cell[data-row="${currentRow}"]`);
        }

        // Handle key input
        function handleKeyInput(key) {
            if (gameOver) return;
            
            if (key === "Enter") {
                if (currentCol === WORD.length) {
                    checkGuess();
                } else {
                    shakeRow();
                }
            } else if (key === "Backspace") {
                if (currentCol > 0) {
                    currentCol--;
                    getCurrentRowCells()[currentCol].textContent = "";
                }
            } else if (/^[a-zA-Z]$/.test(key) && currentCol < WORD.length) {
                getCurrentRowCells()[currentCol].textContent = key.toUpperCase();
                getCurrentRowCells()[currentCol].classList.add("bounce");
                setTimeout(() => {
                    getCurrentRowCells()[currentCol - 1]?.classList.remove("bounce");
                }, 500);
                currentCol++;
            }
        }

        // Check the current guess
        function checkGuess() {
            const rowCells = getCurrentRowCells();
            let guess = "";
            for (let i = 0; i < WORD.length; i++) {
                guess += rowCells[i].textContent;
            }
            
            if (guess.length !== WORD.length) return;
            
            let correct = 0;
            const letterStates = {};
            
            // First pass: mark correct letters
            for (let i = 0; i < WORD.length; i++) {
                const cell = rowCells[i];
                const letter = cell.textContent;
                const key = document.querySelector(`.key[data-key="${letter.toLowerCase()}"]`);
                
                setTimeout(() => {
                    cell.classList.add("flip");
                    
                    if (letter === WORD[i]) {
                        cell.classList.add("correct");
                        if (key) key.classList.add("correct");
                        correct++;
                        letterStates[letter] = "correct";
                    }
                }, i * 250);
            }
            
            // Second pass: mark present and absent letters
            for (let i = 0; i < WORD.length; i++) {
                const cell = rowCells[i];
                const letter = cell.textContent;
                const key = document.querySelector(`.key[data-key="${letter.toLowerCase()}"]`);
                
                setTimeout(() => {
                    if (letter !== WORD[i]) {
                        if (WORD.includes(letter) && letterStates[letter] !== "correct") {
                            cell.classList.add("present");
                            if (key && !key.classList.contains("correct")) key.classList.add("present");
                            letterStates[letter] = "present";
                        } else {
                            cell.classList.add("absent");
                            if (key && !key.classList.contains("correct") && !key.classList.contains("present")) key.classList.add("absent");
                        }
                    }
                }, i * 250 + 250);
            }
            
            // Check if won or lost
            setTimeout(() => {
                if (correct === WORD.length) {
                    gameOver = true;
                    showModal("success-modal");
                    createConfetti();
                } else {
                    remainingAttempts--;
                    currentRow++;
                    currentCol = 0;
                    
                    if (currentRow >= MAX_GUESSES) {
                        gameOver = true;
                        showModal("failure-modal");
                    }
                }
            }, WORD.length * 250 + 500);
        }

        // Shake the current row when an invalid word is submitted
        function shakeRow() {
            const row = document.querySelector(`.grid-row:nth-child(${currentRow + 1})`);
            row.classList.add("shake");
            setTimeout(() => {
                row.classList.remove("shake");
            }, 500);
        }

        // Show a modal
        function showModal(modalId) {
            document.getElementById(modalId).style.display = "flex";
        }

        // Close any open modal
        function closeModal() {
            document.querySelectorAll(".modal").forEach(modal => {
                modal.style.display = "none";
            });
        }

        // Create confetti effect
        function createConfetti() {
            const colors = ["#ff0000", "#00ff00", "#0000ff", "#ffff00", "#ff00ff", "#00ffff"];
            
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement("div");
                confetti.classList.add("confetti");
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.left = Math.random() * window.innerWidth + "px";
                confetti.style.top = -10 + "px";
                confetti.style.transform = "rotate(" + Math.random() * 360 + "deg)";
                
                document.body.appendChild(confetti);
                
                const animationDuration = Math.random() * 3 + 2;
                const xPos = Math.random() * window.innerWidth;
                
                confetti.animate([
                    { transform: `translate(0, 0) rotate(0deg)`, opacity: 1 },
                    { transform: `translate(${(Math.random() - 0.5) * 200}px, ${window.innerHeight}px) rotate(${Math.random() * 360}deg)`, opacity: 0 }
                ], {
                    duration: animationDuration * 1000,
                    easing: 'cubic-bezier(.55, .085, .68, .53)',
                    fill: 'forwards'
                });
                
                setTimeout(() => {
                    confetti.remove();
                }, animationDuration * 1000);
            }
        }

        // Initialize the game
        function init() {
            initializeGrid();
            
            // Add click event listeners to the keyboard
            document.querySelectorAll(".key").forEach(key => {
                key.addEventListener("click", () => {
                    handleKeyInput(key.getAttribute("data-key"));
                });
            });
            
            // Add keyboard event listener
            document.addEventListener("keydown", (e) => {
                handleKeyInput(e.key);
            });
            
            // Add event listener to RSVP button (RickRoll)
            document.getElementById("rsvp-button").addEventListener("click", () => {
                window.open("https://www.youtube.com/watch?v=dQw4w9WgXcQ", "_blank");
            });
        }

        // Start the game when the page loads
        window.addEventListener("load", init);
    </script>
</body>
</html>